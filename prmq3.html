<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>PRMQ 기억력 자가검사</title>
<style>
  body { font-family: Arial, sans-serif; line-height:1.6; margin:20px; }
  .question { margin-bottom:25px; }
  .options { display:flex; flex-wrap:wrap; gap:10px; margin-top:8px; }
  .opt {
    display:flex;
    align-items:center;
    border:1px solid #ccc;
    padding:6px 10px;
    border-radius:6px;
    cursor:pointer;
    font-size:14px;
  }
  .opt input { margin-right:6px; }
  .score-display { font-weight:bold; margin-top:20px; font-size:18px; }
  .result { font-size:20px; font-weight:bold; margin-top:10px; }
  button {
    margin-top: 20px; 
    padding: 12px 20px; 
    font-size: 16px; 
    width: 100%; 
    border-radius: 8px;
    cursor: pointer;
  }
</style>
</head>
<body>

<h2>PRMQ 기억력 자가검사</h2>
<p>
각 문항에 대해 평소 자신의 상태에 가장 가까운 정도를 선택해주세요. (점수는 버튼 클릭 후 계산됩니다.)<br>
총점이 <b>35점 이상이면</b> 본 임상연구 참여 대상에 해당합니다.
</p>

<form id="prmqForm">

<script>
const questions = [
"잠시 후 무엇을 해야겠다고 마음을 먹고 나서 잊어버리는 경우가 있습니까?",
"전에 가본 적이 있는 장소인데, 기억이 안 나는 경우가 있습니까?",
"조금 있다가 해야 할 일이 있는데, 그 일 혹은 그와 관련된 물건을 보면서도 잊어버리는 경우가 있습니까?",
"몇 분 전에 들었던 이야기를 잊어버리는 경우가 있습니까?",
"달력이나 수첩에 적어놓지 않으면 약속을 잊어버리는 경우가 있습니까?",
"TV나 라디오에서 장면이 바뀌면 출연자를 잘 알아보지 못하는 경우가 있습니까?",
"사려고 했던 물건을 시장에 가서 보고도 잊어버리고 안 사는 경우가 있습니까?",
"며칠 전에 있었던 일이 잘 기억나지 않는 경우가 있습니까?",
"예전에 말한 적이 있는 말을 같은 사람에게 되풀이하는 경우가 있습니까?",
"나가기 전 챙기려던 물건을 보면서도 두고 나오는 경우가 있습니까?",
"안경이나 신문 같은 물건을 어디에 두었는지 잊어버리는 경우가 있습니까?",
"무언가 전달해 달라는 부탁을 받았지만 상대를 보면서도 잊어버리는 경우가 있습니까?",
"예전에 본 적 있는 장면이나 물건인데 다시 보면서도 기억하지 못하는 경우가 있습니까?",
"전화 연결이 안 됐을 때 다시 전화 거는 것을 잊어버리는 경우가 있습니까?",
"어제 TV에서 무엇을 봤는지 잊어버리는 경우가 있습니까?",
"해야 할 말을 생각해 놓고서도 상대방에게 말하는 것을 잊어버리는 경우가 있습니까?"
];

const options = [
  { text: "전혀(1)", score: 1 },
  { text: "아주(2)", score: 2 },
  { text: "가끔(3)", score: 3 },
  { text: "자주(4)", score: 4 },
  { text: "매우(5)", score: 5 }
];

let html = "";
questions.forEach((q, i) => {
  html += `<div class="question"><b>${i+1}. ${q}</b><div class="options">`;
  options.forEach((opt) => {
    html += `
      <label class="opt">
        <input type="radio" name="q${i}" value="${opt.score}">
        ${opt.text}
      </label>
    `;
  });
  html += `</div></div>`;
});
document.write(html);
</script>

</form>

<button onclick="calculateScore()">점수 계산하기</button>

<div class="score-display">
  총점: <span id="totalScore">0</span> 점
</div>
<div class="result" id="resultText">참여 가능 여부: -</div>

<script>
function calculateScore() {
  let total = 0;
  for(let i=0; i<16; i++) {
    const selected = document.querySelector(`input[name="q${i}"]:checked`);
    if(!selected) {
      alert(`${i+1}번 문항을 선택해주세요.`);
      return; // 미입력시 계산 중단
    }
    total += parseInt(selected.value);
  }

  document.getElementById("totalScore").textContent = total;

  const resultText = document.getElementById("resultText");
  if(total >= 35) {
    resultText.textContent = "참여 가능 여부: ✔ 35점 이상 — 참여 가능합니다.";
    resultText.style.color = "green";
  } else {
    resultText.textContent = "참여 가능 여부: ✘ 35점 미만 — 참여 대상이 아닙니다.";
    resultText.style.color = "red";
  }
}
</script>

</body>
</html>
